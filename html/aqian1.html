<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  let list = [
    {
      "user": {
        "intID": 20051,
        "strUserName": "ldapadmin3",
        "strUserNickname": "LDAP管理员",
        "strUserPassword": "",
        "strUserToken": "",
        "intPrimaryGroupID": 50009,
        "strKeytab": "/bigdata/bdp_jt/keytab/ldapadmin3/bdp_jt.keytab",
        "strPrincipal": "bdp_jt",
        "intIsActive": 1,
        "intIsLDAP": 1,
        "timCreateTime": "Sep 4, 2018 5:20:46 PM",
        "intCreateUserID": 10
      },
      "strWeenkendlist": [
        {
          "36": "5"
        },
        {
          "37": "1"
        },
        {
          "38": "6"
        }
      ]
    },
    {
      "user": {
        "intID": 10,
        "strUserName": "ldapadmin",
        "strUserNickname": "LDAP管理员",
        "strUserPassword": "",
        "strUserToken": "",
        "intPrimaryGroupID": 50006,
        "strKeytab": "/bigdata/bdp_jt/keytab/ldapadmin/bdp_jt.keytab",
        "strPrincipal": "bdp_jt",
        "intIsActive": 1,
        "intIsLDAP": 1,
        "timCreateTime": "Jun 14, 2018 1:43:36 PM",
        "intCreateUserID": 1
      },
      "strWeenkendlist": [
        {
          "35": "11"
        },
        {
          "36": "27"
        },
        {
          "38": "10"
        }
      ]
    },
    {
      "user": {
        "intID": 10,
        "strUserName": "ldapadmin",
        "strUserNickname": "LDAP管理员",
        "strUserPassword": "",
        "strUserToken": "",
        "intPrimaryGroupID": 50006,
        "strKeytab": "/bigdata/bdp_jt/keytab/ldapadmin/bdp_jt.keytab",
        "strPrincipal": "bdp_jt",
        "intIsActive": 1,
        "intIsLDAP": 1,
        "timCreateTime": "Jun 14, 2018 1:43:36 PM",
        "intCreateUserID": 1
      },
      "strWeenkendlist": [
        {
          "35": "11"
        },
        {
          "36": "27"
        },
        {
          "38": "10"
        }
      ]
    },
    {
      "user": {
        "intID": 20054,
        "strUserName": "wwp_0000",
        "strUserNickname": "wwp_0000",
        "strUserPassword": "",
        "strUserToken": "",
        "intPrimaryGroupID": 50007,
        "strKeytab": "",
        "intIsActive": 1,
        "intIsLDAP": 1,
        "timCreateTime": "Sep 7, 2018 3:40:13 PM",
        "intCreateUserID": 10
      },
      "strWeenkendlist": [
        {
          "36": "1"
        }
      ]
    },
    {
      "user": {
        "intID": 10,
        "strUserName": "ldapadmin",
        "strUserNickname": "LDAP管理员",
        "strUserPassword": "",
        "strUserToken": "",
        "intPrimaryGroupID": 50006,
        "strKeytab": "/bigdata/bdp_jt/keytab/ldapadmin/bdp_jt.keytab",
        "strPrincipal": "bdp_jt",
        "intIsActive": 1,
        "intIsLDAP": 1,
        "timCreateTime": "Jun 14, 2018 1:43:36 PM",
        "intCreateUserID": 1
      },
      "strWeenkendlist": [
        {
          "35": "11"
        },
        {
          "36": "27"
        },
        {
          "38": "10"
        }
      ]
    },
    {
      "user": {
        "intID": 20051,
        "strUserName": "ldapadmin3",
        "strUserNickname": "LDAP管理员",
        "strUserPassword": "",
        "strUserToken": "",
        "intPrimaryGroupID": 50009,
        "strKeytab": "/bigdata/bdp_jt/keytab/ldapadmin3/bdp_jt.keytab",
        "strPrincipal": "bdp_jt",
        "intIsActive": 1,
        "intIsLDAP": 1,
        "timCreateTime": "Sep 4, 2018 5:20:46 PM",
        "intCreateUserID": 10
      },
      "strWeenkendlist": [
        {
          "36": "5"
        },
        {
          "37": "1"
        },
        {
          "38": "6"
        }
      ]
    },
    {
      "user": {
        "intID": 20024,
        "strUserName": "wwp_03",
        "strUserNickname": "wwp_03",
        "strUserPassword": "",
        "strUserToken": "",
        "intPrimaryGroupID": 50009,
        "intIsActive": 1,
        "intIsLDAP": 1,
        "timCreateTime": "Jul 30, 2018 2:23:51 PM",
        "intCreateUserID": 10
      },
      "strWeenkendlist": [
        {
          "35": "1"
        }
      ]
    },
    {
      "user": {
        "intID": 20051,
        "strUserName": "ldapadmin3",
        "strUserNickname": "LDAP管理员",
        "strUserPassword": "",
        "strUserToken": "",
        "intPrimaryGroupID": 50009,
        "strKeytab": "/bigdata/bdp_jt/keytab/ldapadmin3/bdp_jt.keytab",
        "strPrincipal": "bdp_jt",
        "intIsActive": 1,
        "intIsLDAP": 1,
        "timCreateTime": "Sep 4, 2018 5:20:46 PM",
        "intCreateUserID": 10
      },
      "strWeenkendlist": [
        {
          "36": "5"
        },
        {
          "37": "1"
        },
        {
          "38": "6"
        }
      ]
    }
  ];
  let week = [];
  let datas = [];
  list.forEach(function (v) {
    let weekData = Object.assign({}, ...v.strWeenkendlist);
    datas.push({
      strUserName: v.user.strUserName,
      weekData: weekData
    });
    for (let p in weekData) {
      if (week.indexOf(p) === -1) {
        week.push(p);
      }
    }
    week.sort();
  });
  week.forEach(function (v) {
    datas.forEach(function (data) {
      data[v] = data.weekData[v] || '';
    });
  });
  console.log(datas);
</script>
</body>
</html>