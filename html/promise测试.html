<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<link rel="stylesheet" href="../css/main.css">
<style>

</style>
<body>
<div>
  <div class="qq"></div>
</div>
<script src="../js/jquery-1.8.3.min.js"></script>
<script>
  /*promise可以链式操作*/
  let a = new Promise(function (resolve, reject) {
    /* setTimeout(function () {
       reject('拒绝')
     }, 1000);*/
    //setTimeout(function () {
      resolve('同意')
    // });
  });

  /*a.then(function (a) {
    console.log(a)
  }).catch(function (a) {
    console.log(a)
  });*/

  function p1() {
    return a.then(function (value) {
      return Promise.resolve(value + '+1');
      // return value;
    }).catch(v => v + '-1')
  }
  c = p1().then(function (v) {
  // c = a.then(function (v) {
    console.log(v);
    return 2
  }).then(v=>{
    console.log(v);
    return 3
  }).then(v=>{
    console.log(v);
    return 4
  }).then().then(v=>{
    console.log(v)
  })


 new Promise(r=>{
   return r('stage 2 begin')
 }).then(v=>{
   console.log(v);
   return ('stage 2 begin 1')
 }).then(v=>{
   console.log(v);
   return ('stage 2 begin 2')
 }).then(v=>{
   console.log(v);
   return ('stage 2 begin 3')
 }).then(v=>{
   console.log(v);
   return ('stage 2 begin 4')
 }).then(v=>{
   console.log(v);
   return ('stage 2 begin 5')
 }).then(v=>{
   console.log(v);
   return ('stage 2 begin 6')
 }).then(v=>{
   console.log(v);
   return ('stage 2 begin 7')
 }).then(v=>{
   console.log(v);
   return ('stage 2 begin 8')
 })
</script>
</body>
</html>
